name: "UrlShortener-Ci-Build"

on:
    workflow_dispatch:
    push:
        branches:
        - master
        - develop
        - dev
    pull_request:
        branches:
        - master

jobs:
    build:
        runs-on: ubuntu-latest
    
        steps:
        - name: Checkout repository
          uses: actions/checkout@v3
    
        - name: Setup .NET Core
          uses: actions/setup-dotnet@v3
          with:
            dotnet-version: 9.x
    
        - name: Install dependencies
          run: dotnet restore ./UrlShortener.sln
    
        - name: Build
          run: dotnet build ./UrlShortener.sln --configuration Release --no-restore
    
        - name: Test
          run: dotnet test /tests/UrlShortener.UnitTest/UrlShortener.UnitTest.csproj --no-build --verbosity normal

